{"version":3,"file":"clientSync.js","sourceRoot":"","sources":["../../../../src/adapters/multipeer/protocols/clientSync.ts"],"names":[],"mappings":";AAAA;;;GAGG;;;;;;;;;;;;AAEH,iDAA2B;AAC3B,0BAA2D;AAE3D,sCAAmC;AACnC,8DAAgD;AAmBhD;;;GAGG;AACH,MAAa,UAAW,SAAQ,SAAS,CAAC,QAAQ;IAiB9C,YAAoB,MAAc;QAC9B,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QADH,WAAM,GAAN,MAAM,CAAQ;QAhB1B,qBAAgB,GAA2B,EAAE,CAAC;QAC9C,oBAAe,GAA2B,EAAE,CAAC;QAErD,uCAAuC;QAC/B,aAAQ,GAA2B;YACvC,aAAa;YACb,eAAe;YACf,wBAAwB;YACxB,eAAe;YACf,mBAAmB;YACnB,iBAAiB;SACpB,CAAC;QA8GF;;;WAGG;QACI,yBAAmB,GAAG,KAAK,IAAI,EAAE;YACpC,wCAAwC;YACxC,MAAM,OAAO,CAAC,GAAG,CACb,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAC1B,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACzD,yCAAyC;YACzC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAChC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;QAClD,CAAC,CAAA;QAED;;;WAGG;QACI,2BAAqB,GAAG,GAAG,EAAE;YAChC,2DAA2D;YAC3D,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAC9B,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC,CAAC;QAC3D,CAAC,CAAA;QAED;;;WAGG;QACI,2BAAqB,GAAG,GAAG,EAAE;YAChC,yCAAyC;YACzC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC;QACrF,CAAC,CAAA;QAED;;;WAGG;QACI,oCAA8B,GAAG,GAAG,EAAE;YACzC,yCAAyC;YACzC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC,CAAC;QACtF,CAAC,CAAA;QACD;;;WAGG;QACI,+BAAyB,GAAG,GAAG,EAAE;YACpC,mEAAmE;YACnE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,yBAAyB,CAAC,SAAS,CAAC,CAAC,CAAC;YACvF,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC,CAAC;QACvF,CAAC,CAAA;QAED;;;WAGG;QACI,6BAAuB,GAAG,KAAK,IAAI,EAAE;YACxC,MAAM,mBAAmB,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,mBAAmB,CAAC;YACpE,IAAI,CAAC,mBAAmB,EAAE;gBACtB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;aAC5B;YACD,OAAO,IAAI,OAAO,CAAO,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;gBACzC,6EAA6E;gBAC7E,6CAA6C;gBAC7C,mBAAmB,CAAC,WAAW,CAAC;oBAC5B,IAAI,EAAE,iBAAiB;iBACC,EAAE;oBACtB,OAAO,EAAE,CAAC,OAAgC,EAAE,EAAE;wBAC1C,oEAAoE;wBACpE,6CAA6C;wBAC7C,KAAK,MAAM,cAAc,IAAI,OAAO,CAAC,eAAe,EAAE;4BAClD,8DAA8D;4BAC9D,cAAc,CAAC,KAAK,CAAC,IAAI,IAAI,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC;4BACrF,wDAAwD;4BACxD,cAAc,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC;yBACzE;wBACD,sFAAsF;wBACtF,2CAA2C;wBAC3C,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;wBAC3B,OAAO,EAAE,CAAC;oBACd,CAAC,EAAE,MAAM;iBACZ,CAAC,CAAC;YACX,CAAC,CAAC,CAAC;QACP,CAAC,CAAA;QAzLG,mFAAmF;QACnF,IAAI,CAAC,GAAG,CAAC,IAAI,SAAS,CAAC,mBAAmB,EAAE,CAAC,CAAC;IAClD,CAAC;IAPD,gBAAgB;IAChB,IAAW,IAAI,KAAa,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,WAAW,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAQtG;;;OAGG;IACI,WAAW,CAAC,OAAgB,EAAE,OAAyB;QAC1D,OAAO,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,IAAI,YAAI,EAAE,CAAC;QAClC,MAAM,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;QAClD,0CAA0C;QAC1C,QAAQ,QAAQ,EAAE;YACd,KAAK,OAAO,CAAC,CAAC;gBACV,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;gBACpC,MAAM;aACT;YACD,KAAK,OAAO,CAAC,CAAC;gBACV,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;gBAC3C,MAAM;aACT;YACD,KAAK,QAAQ,CAAC,CAAC;gBACX,MAAM;aACT;YACD,KAAK,OAAO,CAAC,CAAC;gBACV,4CAA4C;gBAC5C,SAAG,CAAC,KAAK,CAAC,SAAS,EAAE,WAAW,IAAI,CAAC,IAAI,4DAA4D,OAAO,CAAC,OAAO,CAAC,IAAI,kBAAkB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aAC/N;SACJ;IACL,CAAC;IAED,gBAAgB;IACN,6BAA6B,CAAC,OAAgB;QACpD,yFAAyF;QACzF,iFAAiF;IACrF,CAAC;IAEO,kBAAkB,CAAC,OAAgB;QACvC,MAAM,IAAI,GAAG,SAAK,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,eAAW,CAAC;QACxD,IAAI,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;QAC3C,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE;YAClD,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;SACzC;aAAM,IAAI,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE;YAC3D,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;SAC1C;QACD,OAAO,QAAQ,CAAC;IACpB,CAAC;IAEO,eAAe,CAAC,KAA2B;QAC/C,OAAO,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC;IAEO,iBAAiB,CAAC,KAA2B;QACjD,OAAO,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACjD,CAAC;IAEO,UAAU,CAAC,KAA2B;QAC1C,SAAG,CAAC,KAAK,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC,IAAI,mBAAmB,KAAK,GAAG,CAAC,CAAC;QAC9D,IAAI,CAAC,gBAAgB,GAAG,CAAC,GAAG,IAAI,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;IAC9D,CAAC;IAEO,aAAa,CAAC,KAA2B;QAC7C,SAAG,CAAC,KAAK,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC,IAAI,sBAAsB,KAAK,GAAG,CAAC,CAAC;QACjE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC;QAC7E,IAAI,CAAC,eAAe,GAAG,CAAC,GAAG,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;IAC5D,CAAC;IAEO,KAAK,CAAC,YAAY,CAAC,KAA2B;QAClD,MAAM,OAAO,GAAI,IAAY,CAAC,SAAS,KAAK,EAAE,CAAC,CAAC;QAChD,IAAI,OAAO,EAAE;YACT,MAAM,OAAO,EAAE,CAAC,CAAC,gCAAgC;SACpD;aAAM;YACH,SAAG,CAAC,KAAK,CAAC,SAAS,EAAE,WAAW,IAAI,CAAC,IAAI,0BAA0B,KAAK,GAAG,CAAC,CAAC;SAChF;IACL,CAAC;IAED;;OAEG;IACI,KAAK,CAAC,GAAG;QACZ,IAAI;YACA,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAC1B,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,iBAAiB,EAAE;gBACvC,sCAAsC;gBACtC,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,QAAQ,EAAE;oBAC/B,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;oBACvB,MAAM,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBAC/B,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBAC1B,MAAM,IAAI,CAAC,kBAAkB,EAAE,CAAC;iBACnC;aACJ;YACD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC7B,8CAA8C;YAC9C,IAAI,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,eAAe,EAA2B,CAAC,CAAC;YACrE,sCAAsC;YACtC,MAAM,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAChC,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;QAAC,OAAO,CAAC,EAAE;YACR,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;SAClB;IACL,CAAC;IAsFO,oBAAoB,CAAC,KAAyB;QAClD,wDAAwD;QACxD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,gCAAgC;QACzD,2FAA2F;QAC3F,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,mBAAmB,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QACjG,IAAI,QAAQ,CAAC,MAAM,EAAE;YACjB,KAAK,MAAM,KAAK,IAAI,QAAQ,EAAE;gBAC1B,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;aACpC;SACJ;IACL,CAAC;IAEO,mBAAmB,CAAC,KAAyB;QACjD,IAAI,KAAK,CAAC,QAAQ,EAAE;YAChB,KAAK,CAAC,WAAW,CAAC;gBACd,IAAI,EAAE,cAAc;gBACpB,YAAY,EAAE,KAAK,CAAC,QAAQ;gBAC5B,OAAO,EAAE,KAAK,CAAC,OAAO;aACD,CAAC,CAAC;SAC9B;IACL,CAAC;IAEO,WAAW,CAAC,KAAyB;QACzC,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;YACrD,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;SAClD;IACL,CAAC;IAEO,oBAAoB,CAAC,KAAyB;QAClD,CAAC,KAAK,CAAC,oBAAoB,IAAI,EAAE,CAAC;aAC7B,GAAG,CAAC,mBAAmB,CAAC,EAAE;YACvB,kGAAkG;YAClG,0EAA0E;YAC1E,MAAM,UAAU,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,MAAM,CAAC;YACvC,IAAI,mBAAmB,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,KAAK,IAAI,EAAE;gBAC7D,IAAI,UAAU,GAAG,CAAC,UAAU,GAAG,mBAAmB,CAAC,SAAS,CAAC,CAAC;gBAC9D,IAAI,mBAAmB,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,KAAK,SAAS,EAAE;oBACjE,UAAU,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,mBAAmB,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC;iBAC3F;gBACD,IAAI,mBAAmB,CAAC,OAAO,CAAC,OAAO,CAAC,eAAe,KAAK,SAAS,EAAE;oBACnE,mBAAmB,CAAC,OAAO,CAAC,OAAO,CAAC,eAAe,GAAG,GAAG,CAAC;iBAC7D;gBACD,mBAAmB,CAAC,OAAO,CAAC,OAAO,CAAC,eAAe,IAAI,UAAU,CAAC;aACrE;YACD,OAAO,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;IACX,CAAC;IAEO,qBAAqB,CAAC,KAAyB;QACnD,CAAC,KAAK,CAAC,iBAAiB,IAAI,EAAE,CAAC;aAC1B,GAAG,CAAC,gBAAgB,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC;IAC7E,CAAC;IAEO,yBAAyB,CAAC,KAAyB;QACvD,KAAK,IAAI,mBAAmB,IAAI,KAAK,CAAC,oBAAoB,IAAI,EAAE,EAAE;YAC9D,sGAAsG;YACtG,mBAAmB,qBACZ,mBAAmB,IACtB,OAAO,EAAE,KAAK,GACjB,CAAC;YACF,KAAK,CAAC,WAAW,CAAC,mBAAmB,CAAC,CAAC;SAC1C;IACL,CAAC;IAEO,qBAAqB,CAAC,OAAgB;QAC1C,OAAO,IAAI,OAAO,CAAO,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACzC,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE;gBACvB,OAAO,EAAE,CAAC,YAAiB,EAAE,YAAqB,EAAE,EAAE;oBAClD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;oBAC5C,OAAO,CAAC,YAAY,CAAC,CAAC;gBAC1B,CAAC,EAAE,MAAM;aACZ,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAEM,KAAK,CAAC,kBAAkB;QAC3B,6DAA6D;QAC7D,sDAAsD;QACtD,4CAA4C;QAC5C,GAAG;YACC,MAAM,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,aAAa,EAAE,EAAE;gBACtE,MAAM,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC;gBACtC,MAAM,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;gBAClD,OAAO,QAAQ,KAAK,OAAO,CAAC;YAChC,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;gBACxB,MAAM;aACT;YACD,KAAK,MAAM,aAAa,IAAI,cAAc,EAAE;gBACxC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO,EAAE,aAAa,CAAC,OAAO,CAAC,CAAC;aAClE;YACD,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;SAC9B,QAAQ,IAAI,EAAE;IACnB,CAAC;CACJ;AA5SD,gCA4SC"}